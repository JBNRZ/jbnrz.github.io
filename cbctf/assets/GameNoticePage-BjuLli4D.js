import{r as l,j as e,m as d,e as c,L as m}from"./index-CALy1IMD.js";import{b as x}from"./contest-Cw809kOK.js";const p={important:"border-red-400 bg-red-400/5",update:"border-yellow-400 bg-yellow-400/5",normal:"border-neutral-300 bg-black/30"},u={important:"⚠️",update:"📝",normal:"📢"};function h({notices:s}){const[a,i]=l.useState(null);return e.jsx("div",{className:"w-full max-w-[1200px] mx-auto",children:e.jsxs(d.div,{className:"border border-neutral-300 rounded-md bg-black/30 backdrop-blur-[2px] p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-mono text-neutral-50",children:"Notices"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-400"}),e.jsx("span",{className:"text-neutral-400 text-sm",children:"Important"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400"}),e.jsx("span",{className:"text-neutral-400 text-sm",children:"Update"})]})]})]}),e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsx(d.div,{className:`border rounded-md overflow-hidden transition-colors duration-200
                                ${p[t.type]}
                                hover:border-neutral-100`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2},onClick:()=>i(a===t.id?null:t.id),children:e.jsxs("div",{className:"p-4 cursor-pointer transition-colors duration-200 hover:bg-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl select-none",children:u[t.type]}),e.jsx("h3",{className:"font-mono text-neutral-50 transition-colors duration-200",children:t.title})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("span",{className:"text-neutral-400 text-sm font-mono",children:t.timestamp})})]}),e.jsx(d.div,{initial:!1,animate:{height:a===t.id?"auto":0,opacity:a===t.id?1:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"py-2 text-neutral-300 whitespace-pre-wrap",children:t.content})})]})},t.id))})]})})}const f=s=>new Date(s).toLocaleString();function b(){const{contestId:s}=c(),[a,i]=l.useState([]),[t,o]=l.useState(!0);return l.useEffect(()=>{o(!0),x(s).then(r=>{console.log(r.data.notices),i(r.data.notices.map(n=>({id:n.id,title:n.title,content:n.content,type:n.type||"normal",timestamp:f(n.created_at)}))),o(!1)}).catch(r=>{console.error("Failed to fetch notices:",r),o(!1)})},[s]),t?e.jsx(m,{}):e.jsx(h,{notices:a})}export{b as default};

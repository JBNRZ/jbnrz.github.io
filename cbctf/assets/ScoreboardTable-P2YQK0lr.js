import{c as v}from"./createReactComponent-5FEVX3_B.js";import{r as k,j as e,m as g}from"./index-C2v50R19.js";/**
 * @license @tabler/icons-react v3.29.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var z=v("outline","list","IconList",[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]]);function $({teams:p=[],challenges:j=[],totalCount:c=0,currentPage:d=1,pageSize:n=10,onPageChange:x,isAdmin:m=!1,PaginationComponent:o}){const[f,b]=k.useState(null),i=j.reduce((t,r)=>(t[r.category]||(t[r.category]=[]),t[r.category].push(r),t),{}),y=(t,r)=>{var a;const s=(a=t.challenges)==null?void 0:a.find(l=>l.id===r);return s?s.solved>0:!1},N=t=>(d-1)*n+t+1;return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsx("div",{className:"border border-neutral-300 rounded-md bg-black/30 backdrop-blur-[2px] overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",style:{minWidth:"800px"},children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"bg-black/50",children:[e.jsx("th",{className:"sticky left-0 z-10 bg-black/50 p-3 text-left text-neutral-400 font-mono text-sm border-r border-neutral-300/30",children:"排名"}),e.jsx("th",{className:"sticky left-[60px] z-10 bg-black/50 p-3 text-left text-neutral-400 font-mono text-sm border-r border-neutral-300/30 min-w-[150px]",children:"队伍"}),e.jsx("th",{className:"sticky left-[210px] z-10 bg-black/50 p-3 text-center text-neutral-400 font-mono text-sm border-r border-neutral-300/30 min-w-[80px]",children:"分数"}),Object.entries(i).map(([t,r])=>e.jsx("th",{className:"text-center text-neutral-400 font-mono text-sm border-r border-neutral-300/30",colSpan:r.length,children:e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3",children:[e.jsx("span",{className:"text-geek-400",children:"#"}),e.jsx("span",{children:t}),e.jsxs("span",{className:"text-xs text-neutral-500",children:["(",r.length,")"]})]})},t))]}),e.jsxs("tr",{className:"bg-black/40 border-t border-neutral-300/30",children:[e.jsx("th",{className:"sticky left-0 z-10 bg-black/40 p-2 border-r border-neutral-300/30"}),e.jsx("th",{className:"sticky left-[60px] z-10 bg-black/40 p-2 border-r border-neutral-300/30"}),e.jsx("th",{className:"sticky left-[210px] z-10 bg-black/40 p-2 border-r border-neutral-300/30"}),Object.entries(i).map(([t,r])=>r.map((s,a)=>e.jsx("th",{className:"p-3 text-center text-neutral-400 font-mono text-xs border-r border-neutral-300/30 min-w-[150px]",title:s.name,children:e.jsx("div",{className:"whitespace-nowrap",children:s.name})},s.id)))]})]}),e.jsx("tbody",{children:p.map((t,r)=>e.jsxs(g.tr,{className:"border-t border-neutral-300/10 hover:bg-neutral-300/5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},children:[e.jsx("td",{className:"sticky left-0 z-10 bg-black/30 p-3 text-center text-neutral-300 font-mono border-r border-neutral-300/30",children:N(r)}),e.jsx("td",{className:"sticky left-[60px] z-10 bg-black/30 p-3 border-r border-neutral-300/30",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border border-neutral-300/30 bg-neutral-700/50 flex items-center justify-center overflow-hidden",children:t.avatar?e.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full object-cover",onError:s=>{s.target.style.display="none"}}):e.jsx("div",{className:"w-3 h-3 bg-neutral-400/50 rounded-full"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-neutral-50 font-medium text-sm truncate",title:t.name,children:t.name}),e.jsxs("div",{className:"text-xs text-neutral-400",children:[t.users,"人"]})]})]})}),e.jsx("td",{className:"sticky left-[210px] z-10 bg-black/30 p-3 text-center text-neutral-50 font-mono border-r border-neutral-300/30",children:t.score}),Object.entries(i).map(([s,a])=>a.map(l=>{const u=y(t,l.id),h=`${t.id}-${l.id}`;return e.jsx("td",{className:"p-3 text-center border-r border-neutral-300/30 min-w-[150px]",onMouseEnter:()=>b(h),onMouseLeave:()=>b(null),children:e.jsx("div",{className:`transition-all duration-200 ${f===h?"scale-110":""}
                              flex items-center justify-center font-mono text-lg
                            `,title:`${t.name} - ${l.name}: ${u?"已解出":"未解出"}`,children:u?e.jsx("span",{className:"text-green-500",children:"✓"}):e.jsx("span",{className:"text-neutral-600",children:"•"})})},l.id)}))]},t.id))})]})})}),o&&e.jsx("div",{className:"flex justify-center",children:m?e.jsx(o,{total:Math.ceil(c/n),current:d,pageSize:n,onChange:x,showTotal:m,totalItems:c}):e.jsx(o,{currentPage:d,totalPages:Math.ceil(c/n),onPageChange:x})})]})}export{z as I,$ as S};
